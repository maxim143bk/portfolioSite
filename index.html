<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Портфолио - Машина Времени</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            color: #333;
            transition: all 1s ease-in-out;
            user-select: none;
        }
        
        body.xp-theme {
            background: #008080 url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPjxyZWN0IHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgZmlsbD0iIzAwODA4MCIvPjxwYXRoIGQ9Ik0wIDUwTDUwIDBaIiBzdHJva2U9IiMwMDYwNjAiIHN0cm9rZS13aWR0aD0iMC41Ii8+PHBhdGggZD0iTTUwIDUwTDAgMFoiIHN0cm9rZT0iIzAwNjA2MCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcGF0dGVybikiLz48L3N2Zz4=');
            color: #000;
        }
        
        body.future-theme {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #e0e0e0;
        }
        
        .theme-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        .theme-container.active {
            display: block;
        }
        
        .desktop {
            position: relative;
            padding: 15px;
            min-height: calc(100vh - 70px);
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 20px;
            justify-content: center;
            z-index: 1;
        }
        
        .icon {
            width: 140px;
            text-align: center;
            cursor: pointer;
            padding: 15px 10px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .icon:hover {
            background-color: rgba(255, 255, 255, 0.7);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .icon:active {
            transform: scale(0.95);
        }
        
        .icon-img {
            width: 80px;
            height: 80px;
            margin: 0 auto 12px;
            background: white;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .icon:hover .icon-img {
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .icon-text {
            font-size: 16px;
            color: #333;
            font-weight: 500;
            line-height: 1.3;
            text-align: center;
            padding: 0 5px;
            user-select: text;
        }
        
        .window {
            position: absolute;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            min-width: 280px;
            min-height: 250px;
            display: none;
            z-index: 10;
            overflow: hidden;
            touch-action: none;
            resize: both;
            overflow: auto;
        }
        
        .window.active {
            display: block;
        }
        
        .window-header {
            background: #f8f9fa;
            color: #333;
            padding: 15px 20px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: grab;
            user-select: none;
            border-bottom: 1px solid #e9ecef;
        }
        
        .window-header:active {
            cursor: grabbing;
        }
        
        .window-title {
            font-size: 18px;
            flex-grow: 1;
        }
        
        .window-controls {
            display: flex;
        }
        
        .window-control {
            width: 30px;
            height: 30px;
            margin-left: 8px;
            background: transparent;
            border: none;
            text-align: center;
            line-height: 30px;
            font-size: 16px;
            cursor: pointer;
            font-weight: normal;
            border-radius: 50%;
            color: #6c757d;
            transition: all 0.2s ease;
        }
        
        .window-control:hover {
            background: #e9ecef;
            color: #333;
        }
        
        .window-control:active {
            background: #dee2e6;
        }
        
        .window-content {
            padding: 20px;
            height: calc(100% - 60px);
            overflow: auto;
            background: white;
            user-select: text;
        }
        
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            padding: 0 15px;
            z-index: 100;
        }
        
        .start-button {
            height: 40px;
            padding: 0 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-weight: 600;
            display: flex;
            align-items: center;
            cursor: pointer;
            margin-right: 15px;
            font-size: 14px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .start-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .start-button:active {
            transform: scale(0.98);
        }
        
        .taskbar-apps {
            flex-grow: 1;
            display: flex;
            height: 100%;
            align-items: center;
            overflow-x: auto;
            gap: 10px;
            padding-right: 10px;
        }
        
        .taskbar-app {
            height: 35px;
            padding: 0 15px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid #e9ecef;
            border-radius: 6px;
            display: flex;
            align-items: center;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            min-width: 80px;
            justify-content: center;
            position: relative;
        }
        
        .taskbar-app:hover {
            background: rgba(255, 255, 255, 0.9);
            border-color: #adb5bd;
        }
        
        .taskbar-app:active {
            background: #e9ecef;
        }
        
        .taskbar-app.current-app {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            box-shadow: 0 0 5px rgba(102, 126, 234, 0.5);
            border-bottom: 3px solid #667eea;
        }
        
        .taskbar-time {
            height: 40px;
            padding: 0 15px;
            background: #f8f9fa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            font-size: 14px;
            white-space: nowrap;
            min-width: 120px;
            justify-content: center;
            color: #6c757d;
            font-weight: 500;
        }
        
        .folder-content, .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            padding: 15px;
        }
        
        .photo-item {
            cursor: pointer;
            border-radius: 10px;
            overflow: hidden;
            background: white;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .photo-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        
        .photo-item:active {
            transform: scale(0.95);
        }
        
        .photo-thumb {
            width: 100%;
            height: 140px;
            object-fit: cover;
            display: block;
        }
        
        .photo-title {
            padding: 10px;
            font-size: 14px;
            text-align: center;
            background: #f8f9fa;
            color: #333;
            border-top: 1px solid #e9ecef;
        }
        
        .photo-viewer {
            text-align: center;
            padding: 15px;
        }
        
        .full-photo {
            max-width: 100%;
            max-height: 60vh;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            object-fit: contain;
        }
        
        .photo-info {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            text-align: left;
        }
        
        .calculator {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            width: 100%;
            margin: 0 auto;
        }
        
        .calc-display {
            grid-column: 1 / span 4;
            height: 70px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            text-align: right;
            padding: 15px 20px;
            font-size: 24px;
            margin-bottom: 20px;
            border-radius: 10px;
            color: #333;
            overflow-x: auto;
        }
        
        .calc-button {
            height: 55px;
            background: white;
            border: 1px solid #e9ecef;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 18px;
            border-radius: 8px;
            color: #333;
            transition: all 0.2s ease;
        }
        
        .calc-button:hover {
            background: #f8f9fa;
            border-color: #adb5bd;
        }
        
        .calc-button:active {
            background: #e9ecef;
        }
        
        .calc-button.operator {
            background: #6c757d;
            color: white;
            border: none;
        }
        
        .calc-button.operator:hover {
            background: #5a6268;
        }
        
        .start-menu {
            position: fixed;
            bottom: 60px;
            left: 0;
            width: 100%;
            max-width: 300px;
            background: white;
            border-radius: 10px 10px 0 0;
            box-shadow: 0 -5px 25px rgba(0, 0, 0, 0.15);
            display: none;
            z-index: 99;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .start-menu.active {
            display: block;
        }
        
        .start-menu-header {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px 10px 0 0;
        }
        
        .start-menu-items {
            padding: 10px 0;
        }
        
        .start-menu-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.2s ease;
        }
        
        .start-menu-item:hover {
            background: #f8f9fa;
        }
        
        .start-menu-item:active {
            transform: scale(0.98);
        }
        
        .start-menu-item-icon {
            width: 30px;
            height: 30px;
            margin-right: 15px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .start-menu-item-text {
            font-size: 14px;
            font-weight: 500;
        }
        
        body.xp-theme .desktop {
            padding: 15px;
            height: calc(100vh - 50px);
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 20px;
            justify-content: center;
        }
        
        .xp-theme .icon {
            width: 140px;
            text-align: center;
            cursor: pointer;
            padding: 15px 10px;
            border: 1px solid transparent;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.2s;
        }
        
        .xp-theme .icon:active {
            transform: scale(0.95);
        }
        
        .xp-theme .icon:hover, .xp-theme .icon.selected {
            background-color: rgba(255, 255, 255, 0.3);
            border: 1px dotted #316AC5;
        }
        
        .xp-theme .icon-img {
            width: 80px;
            height: 80px;
            margin: 0 auto 12px;
            background-color: #fff;
            border: 1px solid #c0c0c0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            transition: all 0.5s ease;
        }
        
        .xp-theme .icon-text {
            font-size: 16px;
            color: white;
            text-shadow: 1px 1px 2px black;
            word-break: break-word;
            line-height: 1.3;
            text-align: center;
            padding: 0 5px;
            font-weight: bold;
        }
        
        .xp-theme .time-machine-icon .icon-img {
            background: linear-gradient(145deg, #e65c00, #f9d423);
            border: 2px solid #ff9900;
            box-shadow: 0 0 15px rgba(255, 153, 0, 0.7);
            color: #fff;
            position: relative;
            overflow: hidden;
        }
        
        .xp-theme .time-machine-icon .icon-img::before {
            content: "2001";
            position: absolute;
            bottom: 5px;
            right: 5px;
            font-size: 12px;
            color: #fff;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .xp-theme .window {
            background: #ece9d8;
            border: 2px outset #ece9d8;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
            border-radius: 8px;
        }
        
        .xp-theme .window-header {
            background: linear-gradient(to right, #0A246A, #A6CAF0);
            color: white;
            padding: 12px 15px;
            font-size: 18px;
            border-bottom: none;
        }
        
        .xp-theme .window-control {
            width: 28px;
            height: 24px;
            margin-left: 6px;
            background-color: #ece9d8;
            border: 1px solid #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            text-align: center;
            line-height: 22px;
            font-size: 16px;
            cursor: pointer;
            font-weight: bold;
            border-radius: 3px;
        }
        
        .xp-theme .window-control:active {
            border: 1px inset #ece9d8;
            background-color: #d4d0c8;
        }
        
        .xp-theme .window-content {
            padding: 15px;
            height: calc(100% - 48px);
            background: #ece9d8;
        }
        
        .xp-theme .taskbar {
            height: 50px;
            background: linear-gradient(to bottom, #245EDC, #3A7BE2, #245EDC);
            border-top: 1px solid #ffffff;
            padding: 0 10px;
        }
        
        .xp-theme .start-button {
            height: 38px;
            padding: 0 15px;
            background: linear-gradient(to bottom, #4CAF50, #45A049);
            border: 1px outset #ece9d8;
            font-size: 16px;
            border-radius: 4px;
        }
        
        .xp-theme .start-button:active {
            border: 1px inset #ece9d8;
            background: linear-gradient(to bottom, #45A049, #4CAF50);
        }
        
        .xp-theme .taskbar-app {
            height: 32px;
            padding: 0 12px;
            background: linear-gradient(to bottom, #C0C0C0, #D4D0C8);
            border: 1px outset #ece9d8;
            font-size: 12px;
            min-width: 70px;
        }
        
        .xp-theme .taskbar-app:active {
            border: 1px inset #ece9d8;
        }
        
        .xp-theme .taskbar-app.current-app {
            background: linear-gradient(to top, #C0C0C0, #D4D0C8);
            border: 1px inset #ece9d8;
            border-bottom: none;
            box-shadow: none;
        }
        
        .xp-theme .taskbar-time {
            height: 36px;
            padding: 0 15px;
            background: linear-gradient(to bottom, #C0C0C0, #D4D0C8);
            border: 1px inset #ece9d8;
            font-size: 15px;
            border-radius: 3px;
            min-width: 80px;
        }
        
        .xp-theme .folder-content, .xp-theme .photo-gallery {
            gap: 20px;
            padding: 10px;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        }
        
        .xp-theme .photo-item {
            border: 2px outset #ece9d8;
            border-radius: 5px;
        }
        
        .xp-theme .photo-item:active {
            border: 2px inset #ece9d8;
        }
        
        .xp-theme .photo-thumb {
            height: 120px;
        }
        
        .xp-theme .photo-title {
            padding: 8px;
            font-size: 13px;
            background: #f0f0f0;
            border-top: 1px solid #c0c0c0;
        }
        
        .xp-theme .full-photo {
            border: 2px inset #ece9d8;
            background: white;
            padding: 5px;
            max-height: 55vh;
        }
        
        .xp-theme .photo-info {
            padding: 10px;
            background: #f0f0f0;
            border: 1px inset #ece9d8;
            border-radius: 5px;
        }
        
        .xp-theme .calculator {
            gap: 8px;
        }
        
        .xp-theme .calc-display {
            height: 60px;
            background: white;
            border: 2px inset #ece9d8;
            padding: 10px 15px;
            margin-bottom: 15px;
            border-radius: 5px;
        }
        
        .xp-theme .calc-button {
            height: 50px;
            background: linear-gradient(to bottom, #f0f0f0, #d0d0d0);
            border: 2px outset #ece9d8;
            font-size: 18px;
            border-radius: 5px;
        }
        
        .xp-theme .calc-button:active {
            border: 2px inset #ece9d8;
        }
        
        .xp-theme .calc-button.operator {
            background: linear-gradient(to bottom, #ff9900, #ff7700);
            color: white;
        }
        
        .xp-theme .start-menu {
            bottom: 50px;
            background: linear-gradient(to bottom, #245EDC, #3A7BE2);
            border: 1px solid #ffffff;
            border-bottom: none;
            border-radius: 8px 8px 0 0;
            max-width: 280px;
        }
        
        .xp-theme .start-menu-header {
            background: linear-gradient(to right, #0A246A, #A6CAF0);
            border-radius: 8px 8px 0 0;
        }
        
        .xp-theme .start-menu-items {
            background: #ece9d8;
            max-height: 60vh;
            overflow-y: auto;
        }
        
        .xp-theme .start-menu-item {
            padding: 12px 15px;
            border-bottom: 1px solid #d4d0c8;
            font-size: 16px;
        }
        
        .xp-theme .start-menu-item:active {
            background: #316AC5;
            color: white;
        }
        
        .xp-theme .start-menu-item-icon {
            width: 28px;
            height: 28px;
            margin-right: 15px;
            background-color: #fff;
            border: 1px solid #c0c0c0;
            box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
            border-radius: 3px;
            font-size: 20px;
        }
        
        .future-theme .desktop {
            padding: 15px;
            height: calc(100vh - 70px);
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 25px;
            justify-content: center;
            background: rgba(15, 12, 41, 0.7);
            backdrop-filter: blur(15px);
        }
        
        .future-theme .icon {
            width: 150px;
            text-align: center;
            cursor: pointer;
            padding: 15px 10px;
            border: 1px solid transparent;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            animation: float 6s ease-in-out infinite;
        }
        
        .future-theme .icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(93, 155, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .future-theme .icon:hover::before {
            left: 100%;
        }
        
        .future-theme .icon:active {
            transform: scale(0.95);
        }
        
        .future-theme .icon:hover, .future-theme .icon.selected {
            background-color: rgba(93, 155, 255, 0.15);
            border: 1px solid #5d9bff;
            box-shadow: 0 0 20px rgba(93, 155, 255, 0.4);
        }
        
        .future-theme .icon-img {
            width: 85px;
            height: 85px;
            margin: 0 auto 12px;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 2px solid #5d9bff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            border-radius: 12px;
            transition: all 0.5s ease;
            box-shadow: 0 0 15px rgba(93, 155, 255, 0.5);
        }
        
        .future-theme .icon:hover .icon-img {
            transform: scale(1.1);
            box-shadow: 0 0 25px rgba(93, 155, 255, 0.8);
        }
        
        .future-theme .icon-text {
            font-size: 16px;
            color: #e0e0e0;
            text-shadow: 0 0 10px rgba(93, 155, 255, 0.7);
            word-break: break-word;
            line-height: 1.4;
            text-align: center;
            padding: 0 5px;
            font-weight: 600;
            transition: all 0.5s ease;
        }
        
        .future-theme .time-machine-icon .icon-img {
            background: linear-gradient(145deg, #00b4db, #0083b0);
            border: 2px solid #00b4db;
            box-shadow: 0 0 20px rgba(0, 180, 219, 0.7);
            animation: futureGlow 2s infinite;
            position: relative;
            overflow: hidden;
        }
        
        .future-theme .time-machine-icon .icon-img::before {
            content: "2045";
            position: absolute;
            bottom: 5px;
            right: 5px;
            font-size: 10px;
            color: #fff;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }
        
        .future-theme .window {
            background: rgba(30, 30, 60, 0.95);
            border: 1px solid rgba(93, 155, 255, 0.6);
            box-shadow: 0 0 40px rgba(93, 155, 255, 0.4);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .future-theme .window-header {
            background: linear-gradient(to right, #1a1a2e, #16213e);
            color: #5d9bff;
            padding: 15px 15px;
            border-bottom: 1px solid rgba(93, 155, 255, 0.4);
        }
        
        .future-theme .window-title {
            font-size: 18px;
            text-shadow: 0 0 10px rgba(93, 155, 255, 0.5);
        }
        
        .future-theme .window-control {
            width: 30px;
            height: 26px;
            margin-left: 8px;
            background: rgba(40, 40, 70, 0.8);
            border: 1px solid rgba(93, 155, 255, 0.5);
            line-height: 24px;
            border-radius: 6px;
            color: #5d9bff;
        }
        
        .future-theme .window-control:hover {
            background: rgba(93, 155, 255, 0.3);
            box-shadow: 0 0 10px rgba(93, 155, 255, 0.5);
        }
        
        .future-theme .window-control:active {
            background: rgba(93, 155, 255, 0.5);
            border: 1px inset rgba(93, 155, 255, 0.7);
        }
        
        .future-theme .window-content {
            padding: 20px;
            height: calc(100% - 52px);
            background: rgba(20, 20, 40, 0.8);
        }
        
        .future-theme .taskbar {
            height: 70px;
            background: rgba(15, 12, 41, 0.95);
            border-top: 1px solid rgba(93, 155, 255, 0.5);
            padding: 0 15px;
            backdrop-filter: blur(15px);
        }
        
        .future-theme .start-button {
            height: 45px;
            padding: 0 20px;
            background: linear-gradient(to bottom, #0f3460, #533483);
            border: 1px solid rgba(93, 155, 255, 0.5);
            color: #e0e0e0;
            font-size: 16px;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(93, 155, 255, 0.3);
        }
        
        .future-theme .start-button:hover {
            background: linear-gradient(to bottom, #533483, #0f3460);
            box-shadow: 0 0 20px rgba(93, 155, 255, 0.6);
        }
        
        .future-theme .taskbar-app {
            height: 40px;
            padding: 0 15px;
            background: rgba(30, 30, 60, 0.8);
            border: 1px solid rgba(93, 155, 255, 0.5);
            border-radius: 6px;
            font-size: 12px;
            min-width: 80px;
            color: #e0e0e0;
        }
        
        .future-theme .taskbar-app:hover {
            background: rgba(93, 155, 255, 0.2);
            border-color: rgba(93, 155, 255, 0.7);
        }
        
        .future-theme .taskbar-app:active {
            background: rgba(93, 155, 255, 0.3);
        }
        
        .future-theme .taskbar-app.current-app {
            background: rgba(93, 155, 255, 0.4);
            border: 1px solid rgba(93, 155, 255, 0.8);
            box-shadow: 0 0 10px rgba(93, 155, 255, 0.7);
        }
        
        .future-theme .taskbar-time {
            height: 40px;
            padding: 0 20px;
            background: rgba(30, 30, 60, 0.8);
            border: 1px solid rgba(93, 155, 255, 0.5);
            font-size: 16px;
            border-radius: 8px;
            min-width: 120px;
            color: #5d9bff;
            box-shadow: 0 0 10px rgba(93, 155, 255, 0.3);
        }
        
        .future-theme .folder-content, .future-theme .photo-gallery {
            gap: 25px;
            padding: 15px;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        }
        
        .future-theme .photo-item {
            border: 2px solid rgba(93, 155, 255, 0.5);
            border-radius: 10px;
            background: rgba(30, 30, 60, 0.8);
            box-shadow: 0 0 15px rgba(93, 155, 255, 0.3);
        }
        
        .future-theme .photo-item:active {
            border: 2px inset rgba(93, 155, 255, 0.7);
        }
        
        .future-theme .photo-thumb {
            height: 140px;
        }
        
        .future-theme .photo-title {
            padding: 8px;
            font-size: 14px;
            background: rgba(20, 20, 40, 0.9);
            color: #e0e0e0;
            border-top: 1px solid rgba(93, 155, 255, 0.3);
        }
        
        .future-theme .full-photo {
            border: 2px solid rgba(93, 155, 255, 0.5);
            background: rgba(30, 30, 60, 0.8);
            padding: 8px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(93, 155, 255, 0.4);
            max-height: 55vh;
        }
        
        .future-theme .photo-info {
            padding: 15px;
            background: rgba(20, 20, 40, 0.9);
            border: 1px solid rgba(93, 155, 255, 0.3);
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(93, 155, 255, 0.2);
        }
        
        .future-theme .calculator {
            gap: 10px;
        }
        
        .future-theme .calc-display {
            height: 70px;
            background: rgba(30, 30, 60, 0.9);
            border: 2px solid rgba(93, 155, 255, 0.5);
            font-size: 28px;
            margin-bottom: 20px;
            border-radius: 10px;
            color: #5d9bff;
            box-shadow: 0 0 15px rgba(93, 155, 255, 0.3);
        }
        
        .future-theme .calc-button {
            height: 55px;
            background: rgba(40, 40, 70, 0.8);
            border: 2px solid rgba(93, 155, 255, 0.5);
            font-size: 20px;
            border-radius: 8px;
            color: #e0e0e0;
            box-shadow: 0 0 10px rgba(93, 155, 255, 0.2);
        }
        
        .future-theme .calc-button:hover {
            background: rgba(93, 155, 255, 0.3);
            box-shadow: 0 0 15px rgba(93, 155, 255, 0.5);
        }
        
        .future-theme .calc-button:active {
            background: rgba(93, 155, 255, 0.5);
            border: 2px inset rgba(93, 155, 255, 0.7);
        }
        
        .future-theme .calc-button.operator {
            background: linear-gradient(to bottom, #0f3460, #533483);
            color: #5d9bff;
        }
        
        .future-theme .start-menu {
            bottom: 70px;
            background: rgba(15, 12, 41, 0.95);
            border: 1px solid rgba(93, 155, 255, 0.5);
            border-radius: 15px 15px 0 0;
            backdrop-filter: blur(15px);
            max-width: 280px;
        }
        
        .future-theme .start-menu-header {
            background: linear-gradient(to right, #1a1a2e, #16213e);
            border-radius: 15px 15px 0 0;
        }
        
        .future-theme .start-menu-items {
            background: rgba(20, 20, 40, 0.8);
        }
        
        .future-theme .start-menu-item {
            border-bottom: 1px solid rgba(93, 155, 255, 0.3);
            color: #e0e0e0;
        }
        
        .future-theme .start-menu-item:hover {
            background: rgba(93, 155, 255, 0.2);
        }
        
        .future-theme .start-menu-item:active {
            background: rgba(93, 155, 255, 0.3);
        }
        
        .future-theme .start-menu-item-icon {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(93, 155, 255, 0.5);
            box-shadow: 0 0 10px rgba(93, 155, 255, 0.3);
            color: #5d9bff;
        }
        
        @keyframes futureGlow {
            0% {
                box-shadow: 0 0 10px rgba(93, 155, 255, 0.5);
            }
            50% {
                box-shadow: 0 0 25px rgba(93, 155, 255, 0.9);
            }
            100% {
                box-shadow: 0 0 10px rgba(93, 155, 255, 0.5);
            }
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        #time-machine-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        #time-machine-modal .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        #time-machine-modal h2 {
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        #time-machine-modal p {
            margin-bottom: 25px;
            font-size: 16px;
        }
        
        #time-machine-modal .time-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        #time-machine-modal button {
            padding: 15px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        /* Улучшенные медиа-запросы для мобильных устройств */
        @media (max-width: 768px) {
            .desktop {
                gap: 15px;
                padding: 10px;
                justify-content: center;
            }
            
            .icon {
                width: 140px;
                padding: 15px 10px;
            }
            
            .icon-img {
                width: 90px;
                height: 90px;
                font-size: 40px;
                margin-bottom: 10px;
            }
            
            .icon-text {
                font-size: 16px;
                font-weight: 600;
            }
            
            .window {
                min-width: 95vw;
                min-height: 70vh;
                left: 2.5vw !important;
                top: 5vh !important;
                width: 95vw !important;
                height: 90vh !important;
            }
            
            .window-header {
                padding: 15px 18px;
            }
            
            .window-title {
                font-size: 18px;
            }
            
            .window-content {
                padding: 15px;
                font-size: 16px;
            }
            
            .taskbar {
                height: 55px;
                padding: 0 10px;
            }
            
            .start-button {
                height: 40px;
                padding: 0 18px;
                font-size: 16px;
                margin-right: 10px;
            }
            
            .taskbar-time {
                height: 40px;
                padding: 0 15px;
                font-size: 14px;
                min-width: 110px;
            }
            
            .folder-content, .photo-gallery {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 15px;
                padding: 10px;
            }
            
            .photo-thumb {
                height: 130px;
            }
            
            .photo-title {
                font-size: 15px;
                padding: 10px;
            }
            
            .full-photo {
                max-height: 50vh;
            }
            
            .calculator {
                gap: 10px;
            }
            
            .calc-display {
                height: 65px;
                font-size: 22px;
                padding: 12px 15px;
                margin-bottom: 15px;
            }
            
            .calc-button {
                height: 55px;
                font-size: 18px;
            }
            
            .start-menu {
                max-width: 280px;
                bottom: 55px;
            }
            
            .start-menu-header {
                padding: 20px;
            }
            
            .start-menu-item {
                padding: 15px 20px;
                font-size: 16px;
            }
            
            .start-menu-item-icon {
                width: 32px;
                height: 32px;
                margin-right: 15px;
                font-size: 18px;
            }
            
            /* XP тема для мобильных */
            .xp-theme .desktop {
                gap: 15px;
            }
            
            .xp-theme .icon {
                width: 140px;
            }
            
            .xp-theme .icon-img {
                width: 90px;
                height: 90px;
                font-size: 40px;
            }
            
            .xp-theme .icon-text {
                font-size: 16px;
            }
            
            .xp-theme .folder-content, .xp-theme .photo-gallery {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            }
            
            .xp-theme .photo-thumb {
                height: 120px;
            }
            
            /* Future тема для мобильных */
            .future-theme .desktop {
                gap: 20px;
            }
            
            .future-theme .icon {
                width: 150px;
            }
            
            .future-theme .icon-img {
                width: 95px;
                height: 95px;
                font-size: 38px;
            }
            
            .future-theme .icon-text {
                font-size: 16px;
            }
            
            .future-theme .folder-content, .future-theme .photo-gallery {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
            
            /* Модальное окно для мобильных */
            #time-machine-modal .modal-content {
                padding: 25px;
                max-width: 350px;
            }
            
            #time-machine-modal h2 {
                font-size: 22px;
            }
            
            #time-machine-modal p {
                font-size: 16px;
            }
            
            #time-machine-modal button {
                padding: 14px 18px;
                font-size: 16px;
            }
        }
        
        @media (max-width: 480px) {
            .desktop {
                gap: 12px;
                padding: 8px;
                justify-content: space-around;
            }
            
            .icon {
                width: 130px;
                padding: 12px 8px;
            }
            
            .icon-img {
                width: 80px;
                height: 80px;
                font-size: 36px;
                margin-bottom: 8px;
            }
            
            .icon-text {
                font-size: 14px;
                line-height: 1.2;
            }
            
            .window {
                min-width: 95vw;
                min-height: 70vh;
                left: 2.5vw !important;
                top: 5vh !important;
                width: 95vw !important;
                height: 90vh !important;
            }
            
            .window-header {
                padding: 12px 15px;
            }
            
            .window-title {
                font-size: 16px;
            }
            
            .window-content {
                padding: 12px;
                font-size: 15px;
            }
            
            .taskbar {
                height: 50px;
                padding: 0 8px;
            }
            
            .start-button {
                height: 36px;
                padding: 0 15px;
                font-size: 14px;
                margin-right: 8px;
            }
            
            .taskbar-apps {
                gap: 5px;
            }
            
            .taskbar-app {
                padding: 0 10px;
                min-width: 70px;
                font-size: 11px;
                height: 32px;
            }
            
            .taskbar-time {
                height: 36px;
                padding: 0 10px;
                font-size: 12px;
                min-width: 90px;
            }
            
            .folder-content, .photo-gallery {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 12px;
                padding: 8px;
            }
            
            .photo-thumb {
                height: 110px;
            }
            
            .photo-title {
                font-size: 14px;
                padding: 8px;
            }
            
            .full-photo {
                max-height: 45vh;
            }
            
            .photo-info {
                padding: 12px;
                margin-top: 12px;
                font-size: 14px;
            }
            
            .calculator {
                gap: 8px;
            }
            
            .calc-display {
                height: 60px;
                font-size: 20px;
                padding: 10px 12px;
                margin-bottom: 12px;
            }
            
            .calc-button {
                height: 50px;
                font-size: 16px;
            }
            
            .start-menu {
                max-width: 250px;
                bottom: 50px;
            }
            
            .start-menu-header {
                padding: 15px;
            }
            
            .start-menu-item {
                padding: 12px 15px;
                font-size: 14px;
            }
            
            .start-menu-item-icon {
                width: 28px;
                height: 28px;
                margin-right: 12px;
                font-size: 16px;
            }
            
            /* XP тема для маленьких экранов */
            .xp-theme .icon {
                width: 130px;
            }
            
            .xp-theme .icon-img {
                width: 80px;
                height: 80px;
                font-size: 36px;
            }
            
            .xp-theme .icon-text {
                font-size: 14px;
            }
            
            .xp-theme .folder-content, .xp-theme .photo-gallery {
                grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
            }
            
            .xp-theme .photo-thumb {
                height: 100px;
            }
            
            .xp-theme .start-menu {
                max-width: 220px;
            }
            
            /* Future тема для маленьких экранов */
            .future-theme .icon {
                width: 140px;
            }
            
            .future-theme .icon-img {
                width: 85px;
                height: 85px;
                font-size: 34px;
            }
            
            .future-theme .icon-text {
                font-size: 14px;
            }
            
            .future-theme .folder-content, .future-theme .photo-gallery {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .future-theme .start-menu {
                max-width: 220px;
            }
            
            /* Модальное окно для маленьких экранов */
            #time-machine-modal {
                padding: 10px;
            }
            
            #time-machine-modal .modal-content {
                padding: 20px;
                max-width: 300px;
            }
            
            #time-machine-modal h2 {
                font-size: 20px;
                margin-bottom: 15px;
            }
            
            #time-machine-modal p {
                font-size: 14px;
                margin-bottom: 20px;
            }
            
            #time-machine-modal .time-buttons {
                gap: 10px;
            }
            
            #time-machine-modal button {
                padding: 12px 15px;
                font-size: 14px;
            }
        }
        
        @media (max-width: 360px) {
            .desktop {
                gap: 10px;
                padding: 5px;
            }
            
            .icon {
                width: 120px;
                padding: 10px 5px;
            }
            
            .icon-img {
                width: 70px;
                height: 70px;
                font-size: 32px;
            }
            
            .icon-text {
                font-size: 13px;
            }
            
            .folder-content, .photo-gallery {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
            
            .xp-theme .icon {
                width: 115px;
            }
            
            .xp-theme .icon-img {
                width: 65px;
                height: 65px;
                font-size: 30px;
            }
            
            .future-theme .icon {
                width: 125px;
            }
            
            .future-theme .icon-img {
                width: 70px;
                height: 70px;
                font-size: 30px;
            }
        }
        
        /* Дополнительные улучшения для мобильных устройств */
        @media (max-width: 768px) and (orientation: portrait) {
            .desktop {
                gap: 12px;
                padding: 10px 5px;
            }
            
            .icon {
                width: calc(50% - 20px);
                max-width: 160px;
                min-width: 130px;
            }
            
            .window {
                border-radius: 10px;
            }
            
            .window-header {
                padding: 12px 15px;
            }
            
            .window-control {
                width: 26px;
                height: 26px;
                margin-left: 5px;
            }
            
            .taskbar-app {
                min-width: 60px;
                font-size: 10px;
                padding: 0 8px;
            }
        }
        
        /* Улучшения для очень высоких экранов */
        @media (min-height: 1000px) and (max-width: 768px) {
            .icon {
                width: 160px;
            }
            
            .icon-img {
                width: 100px;
                height: 100px;
                font-size: 44px;
            }
            
            .icon-text {
                font-size: 16px;
            }
        }
        
        /* Улучшенные стили для мобильных устройств */
        .mobile-controls {
            display: none;
        }
        
        @media (max-width: 768px) {
            .mobile-controls {
                display: flex;
                justify-content: space-between;
                padding: 10px;
                background: rgba(0, 0, 0, 0.1);
                border-top: 1px solid rgba(0, 0, 0, 0.1);
            }
            
            .mobile-control-button {
                padding: 8px 15px;
                background: rgba(255, 255, 255, 0.8);
                border: none;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
            }
        }
    </style>
</head>
<body class="modern-theme">
    <div id="time-machine-modal">
        <div class="modal-content">
            <h2>Машина времени</h2>
            <p>Выберите эпоху для путешествия:</p>
            <div class="time-buttons">
                <button onclick="switchTheme('modern')" style="background:#667eea;color:white;">⏱️ Современность</button>
                <button onclick="switchTheme('xp')" style="background:#4CAF50;color:white;">⏪ Windows XP (2001)</button>
                <button onclick="switchTheme('future')" style="background:#0f3460;color:white;">⏩ Будущее (2045)</button>
                <button onclick="toggleTimeMachine()" style="background:#f8f9fa;color:#333;border:1px solid #e9ecef;">Отмена</button>
            </div>
        </div>
    </div>

    <div id="modern-theme" class="theme-container active">
        <div class="desktop">
            <div class="icon" onclick="openWindow('photos','modern')"><div class="icon-img">📁</div><div class="icon-text">Фотографии</div></div>
            <div class="icon" onclick="openWindow('design','modern')"><div class="icon-img">🎨</div><div class="icon-text">Дизайн</div></div>
            <div class="icon" onclick="openWindow('projects','modern')"><div class="icon-img">💼</div><div class="icon-text">Проекты</div></div>
            <div class="icon" onclick="openWindow('marketing','modern')"><div class="icon-img">📊</div><div class="icon-text">Маркетинг</div></div>
            <div class="icon" onclick="openWindow('calculator','modern')"><div class="icon-img">🧮</div><div class="icon-text">Калькулятор</div></div>
            <div class="icon" onclick="openWindow('about','modern')"><div class="icon-img">👤</div><div class="icon-text">Обо мне</div></div>
            <div class="icon time-machine-icon" onclick="toggleTimeMachine()"><div class="icon-img">⏱️</div><div class="icon-text">Машина времени</div></div>
        </div>

        <div class="start-menu" id="modern-start-menu">
            <div class="start-menu-header">
                <div>Меню Пуск</div>
            </div>
            <div class="start-menu-items">
                <div class="start-menu-item" onclick="openWindow('photos','modern');toggleStartMenu('modern')">
                    <div class="start-menu-item-icon">📁</div>
                    <div class="start-menu-item-text">Фотографии</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('design','modern');toggleStartMenu('modern')">
                    <div class="start-menu-item-icon">🎨</div>
                    <div class="start-menu-item-text">Дизайн</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('projects','modern');toggleStartMenu('modern')">
                    <div class="start-menu-item-icon">💼</div>
                    <div class="start-menu-item-text">Проекты</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('marketing','modern');toggleStartMenu('modern')">
                    <div class="start-menu-item-icon">📊</div>
                    <div class="start-menu-item-text">Маркетинг</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('calculator','modern');toggleStartMenu('modern')">
                    <div class="start-menu-item-icon">🧮</div>
                    <div class="start-menu-item-text">Калькулятор</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('about','modern');toggleStartMenu('modern')">
                    <div class="start-menu-item-icon">👤</div>
                    <div class="start-menu-item-text">Обо мне</div>
                </div>
                <div class="start-menu-item" onclick="toggleTimeMachine();toggleStartMenu('modern')">
                    <div class="start-menu-item-icon">⏱️</div>
                    <div class="start-menu-item-text">Машина времени</div>
                </div>
            </div>
        </div>

        <div id="modern-photos" class="window" style="width:600px;height:500px;top:50px;left:100px;">
            <div class="window-header">
                <div class="window-title">Фотографии</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-photos')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-photos')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-photos')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="folder-content">
                    <div class="icon" onclick="openWindow('city','modern')">
                        <div class="icon-img">🏙️</div>
                        <div class="icon-text">Город</div>
                    </div>
                    <div class="icon" onclick="openWindow('nature','modern')">
                        <div class="icon-img">🌳</div>
                        <div class="icon-text">Природа</div>
                    </div>
                    <div class="icon" onclick="openWindow('portraits','modern')">
                        <div class="icon-img">👥</div>
                        <div class="icon-text">Портреты</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modern-city" class="window" style="width:700px;height:550px;top:60px;left:120px;">
            <div class="window-header">
                <div class="window-title">Городские пейзажи</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-city')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-city')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-city')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-gallery">
                    <div class="photo-item" onclick="openPhotoViewer('https://images.unsplash.com/photo-1513584684374-8bab748fbf90?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80','Ночной город','Городской пейзаж ночью с огнями','modern')">
                        <img src="https://images.unsplash.com/photo-1513584684374-8bab748fbf90?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="photo-thumb">
                        <div class="photo-title">Ночной город</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80','Улица города','Главная улица в солнечный день','modern')">
                        <img src="https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="photo-thumb">
                        <div class="photo-title">Улица города</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modern-nature" class="window" style="width:700px;height:550px;top:70px;left:140px;">
            <div class="window-header">
                <div class="window-title">Природа</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-nature')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-nature')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-nature')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будут фотографии природы.</p>
            </div>
        </div>

        <div id="modern-portraits" class="window" style="width:700px;height:550px;top:80px;left:160px;">
            <div class="window-header">
                <div class="window-title">Портреты</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-portraits')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-portraits')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-portraits')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-gallery">
                    <div class="photo-item" onclick="openPhotoViewer('URL_ВАШЕГО_ФОТО_1', 'Название портрета 1', 'Описание портрета 1', 'modern')">
                        <img src="URL_ВАШЕГО_ФОТО_1" class="photo-thumb">
                        <div class="photo-title">Портрет 1</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('URL_ВАШЕГО_ФОТО_2', 'Название портрета 2', 'Описание портрета 2', 'modern')">
                        <img src="URL_ВАШЕГО_ФОТО_2" class="photo-thumb">
                        <div class="photo-title">Портрет 2</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('URL_ВАШЕГО_ФОТО_3', 'Название портрета 3', 'Описание портрета 3', 'modern')">
                        <img src="URL_ВАШЕГО_ФОТО_3" class="photo-thumb">
                        <div class="photo-title">Портрет 3</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modern-design" class="window" style="width:500px;height:400px;top:120px;left:200px;">
            <div class="window-header">
                <div class="window-title">Дизайн</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-design')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-design')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-design')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будет информация о моих дизайн-проектах.</p>
            </div>
        </div>

        <div id="modern-projects" class="window" style="width:500px;height:400px;top:130px;left:220px;">
            <div class="window-header">
                <div class="window-title">Проекты</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-projects')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-projects')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-projects')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будут описания моих проектов.</p>
            </div>
        </div>

        <div id="modern-marketing" class="window" style="width:500px;height:400px;top:140px;left:240px;">
            <div class="window-header">
                <div class="window-title">Маркетинг</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-marketing')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-marketing')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-marketing')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будет информация о моих маркетинговых стратегиях.</p>
            </div>
        </div>

        <div id="modern-calculator" class="window" style="width:350px;height:500px;top:100px;left:300px;">
            <div class="window-header">
                <div class="window-title">Калькулятор</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-calculator')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-calculator')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-calculator')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="calculator">
                    <div class="calc-display" id="modern-calc-display">0</div>
                    <div class="calc-button" onclick="clearCalculator('modern')">C</div>
                    <div class="calc-button" onclick="backspace('modern')">⌫</div>
                    <div class="calc-button operator" onclick="appendOperator('%','modern')">%</div>
                    <div class="calc-button operator" onclick="appendOperator('/','modern')">/</div>
                    <div class="calc-button" onclick="appendNumber('7','modern')">7</div>
                    <div class="calc-button" onclick="appendNumber('8','modern')">8</div>
                    <div class="calc-button" onclick="appendNumber('9','modern')">9</div>
                    <div class="calc-button operator" onclick="appendOperator('*','modern')">×</div>
                    <div class="calc-button" onclick="appendNumber('4','modern')">4</div>
                    <div class="calc-button" onclick="appendNumber('5','modern')">5</div>
                    <div class="calc-button" onclick="appendNumber('6','modern')">6</div>
                    <div class="calc-button operator" onclick="appendOperator('-','modern')">-</div>
                    <div class="calc-button" onclick="appendNumber('1','modern')">1</div>
                    <div class="calc-button" onclick="appendNumber('2','modern')">2</div>
                    <div class="calc-button" onclick="appendNumber('3','modern')">3</div>
                    <div class="calc-button operator" onclick="appendOperator('+','modern')">+</div>
                    <div class="calc-button" onclick="appendNumber('0','modern')" style="grid-column:1/span 2;">0</div>
                    <div class="calc-button" onclick="appendNumber('.','modern')">.</div>
                    <div class="calc-button operator" onclick="calculate('modern')">=</div>
                </div>
            </div>
        </div>

        <div id="modern-about" class="window" style="width:550px;height:450px;top:150px;left:100px;">
            <div class="window-header">
                <div class="window-title">Обо мне</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-about')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-about')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-about')">×</div>
                </div>
            </div>
            <div class="window-content">
                <h3>Мультидисциплинарный специалист</h3>
                <p>Я профессиональный фотограф, графический дизайнер, разработчик и маркетолог с многолетним опытом работы.</p>
                <h4>Навыки:</h4>
                <ul>
                    <li>Фотография: портреты, пейзажи, коммерческая съемка</li>
                    <li>Графический дизайн: логотипы, брендинг, UI/UX</li>
                    <li>Разработка: веб-приложения, мобильные приложения</li>
                    <li>Маркетинг: стратегии, аналитика, SMM</li>
                </ul>
                <h4>Контакты:</h4>
                <p>Email: portfolio@example.com</p>
                <p>Телефон: +7 (999) 123-45-67</p>
            </div>
        </div>

        <div id="modern-photo-viewer" class="window" style="width:800px;height:650px;top:40px;left:80px;">
            <div class="window-header">
                <div class="window-title" id="modern-photo-viewer-title">Просмотр фотографии</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('modern-photo-viewer')">−</div>
                    <div class="window-control" onclick="maximizeWindow('modern-photo-viewer')">⛶</div>
                    <div class="window-control" onclick="closeWindow('modern-photo-viewer')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-viewer">
                    <img id="modern-full-photo" src="" class="full-photo">
                    <div class="photo-info">
                        <h3 id="modern-photo-name">Название фото</h3>
                        <p id="modern-photo-description">Описание фотографии</p>
                        <p><strong>Размер:</strong> <span id="modern-photo-size">1920x1080</span></p>
                        <p><strong>Соотношение сторон:</strong> <span id="modern-photo-ratio">16:9</span></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="taskbar">
            <div class="start-button" onclick="toggleStartMenu('modern')"><span>Пуск</span></div>
            <div class="taskbar-apps" id="modern-taskbar-apps"></div>
            <div class="taskbar-time" id="modern-current-time"></div>
        </div>
    </div>

    <div id="xp-theme" class="theme-container">
        <div class="desktop">
            <div class="icon" onclick="openWindow('photo','xp')"><div class="icon-img">📷</div><div class="icon-text">Мои Фотографии</div></div>
            <div class="icon" onclick="openWindow('design','xp')"><div class="icon-img">🎨</div><div class="icon-text">Графический Дизайн</div></div>
            <div class="icon" onclick="openWindow('games','xp')"><div class="icon-img">🎮</div><div class="icon-text">Игры и Приложения</div></div>
            <div class="icon" onclick="openWindow('marketing','xp')"><div class="icon-img">📈</div><div class="icon-text">Маркетинг</div></div>
            <div class="icon" onclick="openWindow('calculator','xp')"><div class="icon-img">🧮</div><div class="icon-text">Калькулятор</div></div>
            <div class="icon" onclick="openWindow('about','xp')"><div class="icon-img">👨‍💼</div><div class="icon-text">Обо мне</div></div>
            <div class="icon time-machine-icon" onclick="toggleTimeMachine()"><div class="icon-img">⏰</div><div class="icon-text">Машина Времени</div></div>
        </div>

        <div class="start-menu" id="xp-start-menu">
            <div class="start-menu-header">
                <div>Меню Пуск</div>
            </div>
            <div class="start-menu-items">
                <div class="start-menu-item" onclick="openWindow('photo','xp');toggleStartMenu('xp')">
                    <div class="start-menu-item-icon">📷</div>
                    <div class="start-menu-item-text">Мои Фотографии</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('design','xp');toggleStartMenu('xp')">
                    <div class="start-menu-item-icon">🎨</div>
                    <div class="start-menu-item-text">Графический Дизайн</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('games','xp');toggleStartMenu('xp')">
                    <div class="start-menu-item-icon">🎮</div>
                    <div class="start-menu-item-text">Игры и Приложения</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('marketing','xp');toggleStartMenu('xp')">
                    <div class="start-menu-item-icon">📈</div>
                    <div class="start-menu-item-text">Маркетинг</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('calculator','xp');toggleStartMenu('xp')">
                    <div class="start-menu-item-icon">🧮</div>
                    <div class="start-menu-item-text">Калькулятор</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('about','xp');toggleStartMenu('xp')">
                    <div class="start-menu-item-icon">👨‍💼</div>
                    <div class="start-menu-item-text">Обо мне</div>
                </div>
                <div class="start-menu-item" onclick="toggleTimeMachine();toggleStartMenu('xp')">
                    <div class="start-menu-item-icon">⏰</div>
                    <div class="start-menu-item-text">Машина Времени</div>
                </div>
            </div>
        </div>

        <div id="xp-photo" class="window" style="width:500px;height:400px;top:50px;left:100px;">
            <div class="window-header">
                <div class="window-title">Мои Фотографии</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-photo')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-photo')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-photo')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="folder-content">
                    <div class="icon" onclick="openWindow('city-landscapes','xp')">
                        <div class="icon-img">🏙️</div>
                        <div class="icon-text">Городские пейзажи</div>
                    </div>
                    <div class="icon" onclick="openWindow('nature','xp')">
                        <div class="icon-img">🌅</div>
                        <div class="icon-text">Природа</div>
                    </div>
                    <div class="icon" onclick="openWindow('portraits','xp')">
                        <div class="icon-img">👥</div>
                        <div class="icon-text">Портреты</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="xp-city-landscapes" class="window" style="width:600px;height:500px;top:60px;left:120px;">
            <div class="window-header">
                <div class="window-title">Городские пейзажи</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-city-landscapes')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-city-landscapes')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-city-landscapes')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-gallery">
                    <div class="photo-item" onclick="openPhotoViewer('https://images.unsplash.com/photo-1513584684374-8bab748fbf90?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80','Ночной город','Городской пейзаж ночью с огнями','xp')">
                        <img src="https://images.unsplash.com/photo-1513584684374-8bab748fbf90?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="photo-thumb">
                        <div class="photo-title">Ночной город</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80','Улица города','Главная улица в солнечный день','xp')">
                        <img src="https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="photo-thumb">
                        <div class="photo-title">Улица города</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="xp-nature" class="window" style="width:600px;height:500px;top:70px;left:140px;">
            <div class="window-header">
                <div class="window-title">Природа</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-nature')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-nature')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-nature')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будут фотографии природы в стиле XP.</p>
            </div>
        </div>

        <div id="xp-portraits" class="window" style="width:600px;height:500px;top:80px;left:160px;">
            <div class="window-header">
                <div class="window-title">Портреты</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-portraits')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-portraits')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-portraits')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-gallery">
                    <div class="photo-item" onclick="openPhotoViewer('image/IldanaXp1.jpg', 'Название портрета 1', 'Описание портрета 1', 'xp')">
                        <img src='image/IldanaXp1.jpg' class="photo-thumb">
                        <div class="photo-title">Портрет 1</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('image/IldanaXp2.jpg', 'Название портрета 2', 'Описание портрета 2', 'xp')">
                        <img src="image/IldanaXp2.jpg" class="photo-thumb">
                        <div class="photo-title">Портрет 2</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('image/IldanaXp3.jpg', 'Название портрета 3', 'Описание портрета 3', 'xp')">
                        <img src="image/IldanaXp3.jpg" class="photo-thumb">
                        <div class="photo-title">Портрет 3</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('image/IldanaXp4.jpg', 'Название портрета 4', 'Описание портрета 4', 'xp')">
                        <img src="image/IldanaXp4.jpg" class="photo-thumb">
                        <div class="photo-title">Портрет 4</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="xp-design" class="window" style="width:500px;height:400px;top:120px;left:200px;">
            <div class="window-header">
                <div class="window-title">Графический Дизайн</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-design')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-design')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-design')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будет информация о моих дизайн-проектах в стиле XP.</p>
            </div>
        </div>

        <div id="xp-games" class="window" style="width:500px;height:400px;top:130px;left:220px;">
            <div class="window-header">
                <div class="window-title">Игры и Приложения</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-games')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-games')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-games')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="folder-content">
                    <div class="icon" onclick="launchGame()"> 
                        <div class="icon-img">🐍</div> 
                        <div class="icon-text">Змейка</div> 
                    </div>
                </div>
            </div>
        </div>

        <div id="xp-marketing" class="window" style="width:500px;height:400px;top:140px;left:240px;">
            <div class="window-header">
                <div class="window-title">Маркетинг</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-marketing')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-marketing')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-marketing')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будет информация о моих маркетинговых стратегиях в стиле XP.</p>
            </div>
        </div>

        <div id="xp-calculator" class="window" style="width:320px;height:450px;top:100px;left:300px;">
            <div class="window-header">
                <div class="window-title">Калькулятор</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-calculator')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-calculator')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-calculator')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="calculator">
                    <div class="calc-display" id="xp-calc-display">0</div>
                    <div class="calc-button" onclick="clearCalculator('xp')">C</div>
                    <div class="calc-button" onclick="backspace('xp')">←</div>
                    <div class="calc-button operator" onclick="appendOperator('%','xp')">%</div>
                    <div class="calc-button operator" onclick="appendOperator('/','xp')">/</div>
                    <div class="calc-button" onclick="appendNumber('7','xp')">7</div>
                    <div class="calc-button" onclick="appendNumber('8','xp')">8</div>
                    <div class="calc-button" onclick="appendNumber('9','xp')">9</div>
                    <div class="calc-button operator" onclick="appendOperator('*','xp')">×</div>
                    <div class="calc-button" onclick="appendNumber('4','xp')">4</div>
                    <div class="calc-button" onclick="appendNumber('5','xp')">5</div>
                    <div class="calc-button" onclick="appendNumber('6','xp')">6</div>
                    <div class="calc-button operator" onclick="appendOperator('-','xp')">-</div>
                    <div class="calc-button" onclick="appendNumber('1','xp')">1</div>
                    <div class="calc-button" onclick="appendNumber('2','xp')">2</div>
                    <div class="calc-button" onclick="appendNumber('3','xp')">3</div>
                    <div class="calc-button operator" onclick="appendOperator('+','xp')">+</div>
                    <div class="calc-button" onclick="appendNumber('0','xp')" style="grid-column:1/span 2;">0</div>
                    <div class="calc-button" onclick="appendNumber('.','xp')">.</div>
                    <div class="calc-button operator" onclick="calculate('xp')">=</div>
                </div>
            </div>
        </div>

        <div id="xp-about" class="window" style="width:500px;height:400px;top:150px;left:100px;">
            <div class="window-header">
                <div class="window-title">Обо мне</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-about')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-about')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-about')">×</div>
                </div>
            </div>
            <div class="window-content">
                <h3>Мультидисциплинарный специалист</h3>
                <p>Я профессиональный фотограф, графический дизайнер, Unity-разработчик и маркетолог с многолетним опытом работы.</p>
                <h4>Навыки:</h4>
                <ul>
                    <li>Фотография: портреты, пейзажи, коммерческая съемка</li>
                    <li>Графический дизайн: логотипы, брендинг, UI/UX</li>
                    <li>Разработка: Unity, C#, мобильные и десктопные приложения</li>
                    <li>Маркетинг: стратегии, аналитика, SMM</li>
                </ul>
                <h4>Контакты:</h4>
                <p>Email: portfolio@example.com</p>
                <p>Телефон: +7 (999) 123-45-67</p>
            </div>
        </div>

        <div id="xp-photo-viewer" class="window" style="width:700px;height:600px;top:40px;left:80px;">
            <div class="window-header">
                <div class="window-title" id="xp-photo-viewer-title">Просмотр фотографии</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('xp-photo-viewer')">_</div>
                    <div class="window-control" onclick="maximizeWindow('xp-photo-viewer')">□</div>
                    <div class="window-control" onclick="closeWindow('xp-photo-viewer')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-viewer">
                    <img id="xp-full-photo" src="" class="full-photo">
                    <div class="photo-info">
                        <h3 id="xp-photo-name">Название фото</h3>
                        <p id="xp-photo-description">Описание фотографии</p>
                        <p><strong>Размер:</strong> <span id="xp-photo-size">1920x1080</span></p>
                        <p><strong>Соотношение сторон:</strong> <span id="xp-photo-ratio">16:9</span></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="taskbar">
            <div class="start-button" onclick="toggleStartMenu('xp')"><span>Пуск</span></div>
            <div class="taskbar-apps" id="xp-taskbar-apps"></div>
            <div class="taskbar-time" id="xp-current-time"></div>
        </div>
    </div>

    <div id="future-theme" class="theme-container">
        <div class="desktop">
            <div class="icon" onclick="openWindow('holography','future')"><div class="icon-img">🌌</div><div class="icon-text">Голопроекции</div></div>
            <div class="icon" onclick="openWindow('neurodesign','future')"><div class="icon-img">⚙️</div><div class="icon-text">Нейродизайн</div></div>
            <div class="icon" onclick="openWindow('virtualworlds','future')"><div class="icon-img">🎮</div><div class="icon-text">Виртуальные Миры</div></div>
            <div class="icon" onclick="openWindow('quantummarketing','future')"><div class="icon-img">📡</div><div class="icon-text">Квантовый Маркетинг</div></div>
            <div class="icon" onclick="openWindow('quantumcalculator','future')"><div class="icon-img">🔢</div><div class="icon-text">Квантовый Вычислитель</div></div>
            <div class="icon" onclick="openWindow('cyberprofile','future')"><div class="icon-img">👨‍🚀</div><div class="icon-text">Киберпрофиль</div></div>
            <div class="icon time-machine-icon" onclick="toggleTimeMachine()"><div class="icon-img">⏪</div><div class="icon-text">Вернуться в Прошлое</div></div>
        </div>

        <div class="start-menu" id="future-start-menu">
            <div class="start-menu-header">
                <div>Меню Пуск</div>
            </div>
            <div class="start-menu-items">
                <div class="start-menu-item" onclick="openWindow('holography','future');toggleStartMenu('future')">
                    <div class="start-menu-item-icon">🌌</div>
                    <div class="start-menu-item-text">Голопроекции</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('neurodesign','future');toggleStartMenu('future')">
                    <div class="start-menu-item-icon">⚙️</div>
                    <div class="start-menu-item-text">Нейродизайн</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('virtualworlds','future');toggleStartMenu('future')">
                    <div class="start-menu-item-icon">🎮</div>
                    <div class="start-menu-item-text">Виртуальные Миры</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('quantummarketing','future');toggleStartMenu('future')">
                    <div class="start-menu-item-icon">📡</div>
                    <div class="start-menu-item-text">Квантовый Маркетинг</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('quantumcalculator','future');toggleStartMenu('future')">
                    <div class="start-menu-item-icon">🔢</div>
                    <div class="start-menu-item-text">Квантовый Вычислитель</div>
                </div>
                <div class="start-menu-item" onclick="openWindow('cyberprofile','future');toggleStartMenu('future')">
                    <div class="start-menu-item-icon">👨‍🚀</div>
                    <div class="start-menu-item-text">Киберпрофиль</div>
                </div>
                <div class="start-menu-item" onclick="toggleTimeMachine();toggleStartMenu('future')">
                    <div class="start-menu-item-icon">⏪</div>
                    <div class="start-menu-item-text">Вернуться в Прошлое</div>
                </div>
            </div>
        </div>

        <div id="future-holography" class="window" style="width:600px;height:500px;top:50px;left:100px;">
            <div class="window-header">
                <div class="window-title">Голопроекции</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-holography')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-holography')">□</div>
                    <div class="window-control" onclick="closeWindow('future-holography')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="folder-content">
                    <div class="icon" onclick="openWindow('holobases','future')">
                        <div class="icon-img">💿</div>
                        <div class="icon-text">Голобазы данных</div>
                    </div>
                    <div class="icon" onclick="openWindow('neuroholography','future')">
                        <div class="icon-img">🧠</div>
                        <div class="icon-text">Нейроголография</div>
                    </div>
                    <div class="icon" onclick="openWindow('portraits','future')">
                        <div class="icon-img">👥</div>
                        <div class="icon-text">Киберпортреты</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="future-holobases" class="window" style="width:700px;height:550px;top:60px;left:120px;">
            <div class="window-header">
                <div class="window-title">Голобазы данных</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-holobases')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-holobases')">□</div>
                    <div class="window-control" onclick="closeWindow('future-holobases')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-gallery">
                    <div class="photo-item" onclick="openPhotoViewer('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80','Квантовый мегаполис','Голографическая проекция города 2045 года','future')">
                        <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="photo-thumb">
                        <div class="photo-title">Квантовый мегаполис</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80','Нейросетевые потоки','Визуализация потоков данных в нейросети','future')">
                        <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" class="photo-thumb">
                        <div class="photo-title">Нейросетевые потоки</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="future-neuroholography" class="window" style="width:700px;height:550px;top:70px;left:140px;">
            <div class="window-header">
                <div class="window-title">Нейроголография</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-neuroholography')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-neuroholography')">□</div>
                    <div class="window-control" onclick="closeWindow('future-neuroholography')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будут проекты по нейроголографии.</p>
            </div>
        </div>

        <div id="future-portraits" class="window" style="width:700px;height:550px;top:80px;left:160px;">
            <div class="window-header">
                <div class="window-title">Киберпортреты</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-portraits')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-portraits')">□</div>
                    <div class="window-control" onclick="closeWindow('future-portraits')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-gallery">
                    <div class="photo-item" onclick="openPhotoViewer('image/katVomanFuture1.png', 'Киберпортрет 1', 'Нейросетевой портрет будущего', 'future')">
                        <img src="image/katVomanFuture1.png" class="photo-thumb">
                        <div class="photo-title">Киберпортрет 1</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('image/katVomanFuture2.jpg', 'Киберпортрет 2', 'Голографическое изображение', 'future')">
                        <img src="image/katVomanFuture2.jpg" class="photo-thumb">
                        <div class="photo-title">Киберпортрет 2</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('image/katVomanFuture3.png', 'Киберпортрет 3', 'Квантовый портрет', 'future')">
                        <img src="image/katVomanFuture3.png" class="photo-thumb">
                        <div class="photo-title">Киберпортрет 3</div>
                    </div>
                    <div class="photo-item" onclick="openPhotoViewer('image/katVomanFuture4.jpg', 'Киберпортрет 4', 'Нейроинтерфейсный портрет', 'future')">
                        <img src="image/katVomanFuture4.jpg" class="photo-thumb">
                        <div class="photo-title">Киберпортрет 4</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="future-neurodesign" class="window" style="width:500px;height:400px;top:120px;left:200px;">
            <div class="window-header">
                <div class="window-title">Нейродизайн</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-neurodesign')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-neurodesign')">□</div>
                    <div class="window-control" onclick="closeWindow('future-neurodesign')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будет информация о моих нейродизайн-проектах.</p>
            </div>
        </div>

        <div id="future-virtualworlds" class="window" style="width:500px;height:400px;top:130px;left:220px;">
            <div class="window-header">
                <div class="window-title">Виртуальные Миры</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-virtualworlds')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-virtualworlds')">□</div>
                    <div class="window-control" onclick="closeWindow('future-virtualworlds')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будут проекты в виртуальных мирах.</p>
            </div>
        </div>

        <div id="future-quantummarketing" class="window" style="width:500px;height:400px;top:140px;left:240px;">
            <div class="window-header">
                <div class="window-title">Квантовый Маркетинг</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-quantummarketing')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-quantummarketing')">□</div>
                    <div class="window-control" onclick="closeWindow('future-quantummarketing')">×</div>
                </div>
            </div>
            <div class="window-content">
                <p>Здесь будет информация о квантовом маркетинге.</p>
            </div>
        </div>

        <div id="future-quantumcalculator" class="window" style="width:350px;height:500px;top:100px;left:300px;">
            <div class="window-header">
                <div class="window-title">Квантовый Вычислитель</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-quantumcalculator')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-quantumcalculator')">□</div>
                    <div class="window-control" onclick="closeWindow('future-quantumcalculator')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="calculator">
                    <div class="calc-display" id="future-calc-display">0</div>
                    <div class="calc-button" onclick="clearCalculator('future')">C</div>
                    <div class="calc-button" onclick="backspace('future')">←</div>
                    <div class="calc-button operator" onclick="appendOperator('%','future')">%</div>
                    <div class="calc-button operator" onclick="appendOperator('/','future')">/</div>
                    <div class="calc-button" onclick="appendNumber('7','future')">7</div>
                    <div class="calc-button" onclick="appendNumber('8','future')">8</div>
                    <div class="calc-button" onclick="appendNumber('9','future')">9</div>
                    <div class="calc-button operator" onclick="appendOperator('*','future')">×</div>
                    <div class="calc-button" onclick="appendNumber('4','future')">4</div>
                    <div class="calc-button" onclick="appendNumber('5','future')">5</div>
                    <div class="calc-button" onclick="appendNumber('6','future')">6</div>
                    <div class="calc-button operator" onclick="appendOperator('-','future')">-</div>
                    <div class="calc-button" onclick="appendNumber('1','future')">1</div>
                    <div class="calc-button" onclick="appendNumber('2','future')">2</div>
                    <div class="calc-button" onclick="appendNumber('3','future')">3</div>
                    <div class="calc-button operator" onclick="appendOperator('+','future')">+</div>
                    <div class="calc-button" onclick="appendNumber('0','future')" style="grid-column:1/span 2;">0</div>
                    <div class="calc-button" onclick="appendNumber('.','future')">.</div>
                    <div class="calc-button operator" onclick="calculate('future')">=</div>
                </div>
            </div>
        </div>

        <div id="future-cyberprofile" class="window" style="width:550px;height:450px;top:150px;left:100px;">
            <div class="window-header">
                <div class="window-title">Киберпрофиль</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-cyberprofile')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-cyberprofile')">□</div>
                    <div class="window-control" onclick="closeWindow('future-cyberprofile')">×</div>
                </div>
            </div>
            <div class="window-content">
                <h3>Киберспециалист 2045</h3>
                <p>Эксперт в области квантовых технологий, нейросетевого дизайна и голографической визуализации.</p>
                <h4>Навыки будущего:</h4>
                <ul>
                    <li>Квантовое программирование и вычисления</li>
                    <li>Нейросетевой дизайн интерфейсов</li>
                    <li>Голографическая проекция и 3D визуализация</li>
                    <li>Квантовый маркетинг и аналитика</li>
                    <li>Виртуальные и дополненные миры</li>
                </ul>
                <h4>Контакты:</h4>
                <p>Квантовая связь: cyber-profile@neural.net</p>
                <p>Нейро-коммуникатор: +7 (999) 2045-67-89</p>
            </div>
        </div>

        <div id="future-photo-viewer" class="window" style="width:800px;height:650px;top:40px;left:80px;">
            <div class="window-header">
                <div class="window-title" id="future-photo-viewer-title">Просмотр голопроекции</div>
                <div class="window-controls">
                    <div class="window-control" onclick="minimizeWindow('future-photo-viewer')">_</div>
                    <div class="window-control" onclick="maximizeWindow('future-photo-viewer')">□</div>
                    <div class="window-control" onclick="closeWindow('future-photo-viewer')">×</div>
                </div>
            </div>
            <div class="window-content">
                <div class="photo-viewer">
                    <img id="future-full-photo" src="" class="full-photo">
                    <div class="photo-info">
                        <h3 id="future-photo-name">Название голопроекции</h3>
                        <p id="future-photo-description">Описание голографической проекции</p>
                        <p><strong>Разрешение:</strong> <span id="future-photo-size">8K Holographic</span></p>
                        <p><strong>Технология:</strong> <span id="future-photo-ratio">Квантовая визуализация</span></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="taskbar">
            <div class="start-button" onclick="toggleStartMenu('future')"><span>Пуск</span></div>
            <div class="taskbar-apps" id="future-taskbar-apps"></div>
            <div class="taskbar-time" id="future-current-time"></div>
        </div>
    </div>

    <script>
        let currentTheme = 'modern';
        const calculatorState = {
            modern: {
                currentInput: '0',
                previousInput: '',
                operation: null,
                resetInput: false
            },
            xp: {
                currentInput: '0',
                previousInput: '',
                operation: null,
                resetInput: false
            },
            future: {
                currentInput: '0',
                previousInput: '',
                operation: null,
                resetInput: false
            }
        };
        const openWindows = {};
        
        // Функция для проверки мобильного устройства
        function isMobileDevice() {
            return (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
        }
        
        function switchTheme(theme) {
            document.querySelectorAll('.theme-container').forEach(container => {
                container.classList.remove('active');
            });
            document.getElementById(`${theme}-theme`).classList.add('active');
            document.body.className = `${theme}-theme`;
            currentTheme = theme;
            toggleTimeMachine();
            updateTime();
            document.querySelectorAll('.window').forEach(windowElement => {
                if (windowElement.id.startsWith(currentTheme)) {
                    windowElement.classList.remove('active');
                } else {
                    windowElement.classList.remove('active');
                }
            });
            document.querySelectorAll('.taskbar-apps').forEach(taskbar => {
                taskbar.innerHTML = '';
            });
            document.querySelectorAll('.start-menu').forEach(menu => {
                menu.classList.remove('active');
            });
            for (const key in openWindows) {
                delete openWindows[key];
            }
        }
        
        function toggleTimeMachine() {
            const modal = document.getElementById('time-machine-modal');
            modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';
        }
        
        function updateTime() {
            const now = new Date();
            const modernTimeString = now.toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'});
            const modernDateString = now.toLocaleDateString('ru-RU');
            if (document.getElementById('modern-current-time')) {
                document.getElementById('modern-current-time').textContent = `${modernDateString} ${modernTimeString}`;
            }
            const xpTimeString = now.toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'});
            if (document.getElementById('xp-current-time')) {
                document.getElementById('xp-current-time').textContent = xpTimeString;
            }
            const futureDate = new Date(now.getFullYear() + 20, now.getMonth(), now.getDate());
            const futureTimeString = futureDate.toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'});
            const futureDateString = futureDate.toLocaleDateString('ru-RU');
            if (document.getElementById('future-current-time')) {
                document.getElementById('future-current-time').textContent = `${futureDateString} ${futureTimeString}`;
            }
        }
        
        setInterval(updateTime, 1000);
        updateTime();
        
        function openWindow(windowIdBase, theme) {
            const windowId = `${theme}-${windowIdBase}`;
            const windowElement = document.getElementById(windowId);
            if (!windowElement) {
                console.warn(`Window with ID ${windowId} not found.`);
                return;
            }
            
            windowElement.classList.add('active');
            bringWindowToFront(windowElement);
            
            const taskbarApps = document.getElementById(`${theme}-taskbar-apps`);
            if (!taskbarApps) return;
            
            let appButton = openWindows[windowId];
            if (!appButton) {
                appButton = document.createElement('div');
                appButton.className = 'taskbar-app';
                appButton.textContent = windowElement.querySelector('.window-title').textContent;
                
                if (isMobileDevice()) {
                    appButton.ontouchstart = function(e) {
                        e.preventDefault();
                        if (windowElement.classList.contains('active')) {
                            windowElement.classList.remove('active');
                            appButton.classList.remove('current-app');
                        } else {
                            windowElement.classList.add('active');
                            appButton.classList.add('current-app');
                            bringWindowToFront(windowElement);
                        }
                    };
                } else {
                    appButton.onclick = function() {
                        if (windowElement.classList.contains('active')) {
                            windowElement.classList.remove('active');
                            appButton.classList.remove('current-app');
                        } else {
                            windowElement.classList.add('active');
                            appButton.classList.add('current-app');
                            bringWindowToFront(windowElement);
                        }
                    };
                }
                
                taskbarApps.appendChild(appButton);
                openWindows[windowId] = appButton;
            }
            appButton.classList.add('current-app');
        }
        
        function closeWindow(windowId) {
            const windowElement = document.getElementById(windowId);
            if (!windowElement) return;
            windowElement.classList.remove('active');
            
            // Reset maximization state if window is closed while maximized
            if (windowElement.classList.contains('maximized')) {
                windowElement.style.width = windowElement.dataset.originalWidth || '';
                windowElement.style.height = windowElement.dataset.originalHeight || '';
                windowElement.style.top = windowElement.dataset.originalTop || '';
                windowElement.style.left = windowElement.dataset.originalLeft || '';
                windowElement.classList.remove('maximized');
            }
        
            const appButton = openWindows[windowId];
            if (appButton) {
                appButton.remove();
            }
            delete openWindows[windowId];
        }
        
        function minimizeWindow(windowId) {
            const windowElement = document.getElementById(windowId);
            if (windowElement) {
                windowElement.classList.remove('active');
                const appButton = openWindows[windowId];
                if (appButton) {
                    appButton.classList.remove('current-app');
                }
            }
        }
        
        function maximizeWindow(windowId) {
            const windowElement = document.getElementById(windowId);
            if (!windowElement) return;
            const taskbarHeight = document.querySelector(`.${currentTheme}-theme .taskbar`).offsetHeight;
            const desktopHeight = window.innerHeight - taskbarHeight;
            if (windowElement.classList.contains('maximized')) {
                windowElement.style.width = windowElement.dataset.originalWidth || '';
                windowElement.style.height = windowElement.dataset.originalHeight || '';
                windowElement.style.top = windowElement.dataset.originalTop || '';
                windowElement.style.left = windowElement.dataset.originalLeft || '';
                windowElement.classList.remove('maximized');
            } else {
                windowElement.dataset.originalWidth = windowElement.style.width;
                windowElement.dataset.originalHeight = windowElement.style.height;
                windowElement.dataset.originalTop = windowElement.style.top;
                windowElement.dataset.originalLeft = windowElement.style.left;
                windowElement.style.width = '100%';
                windowElement.style.height = `${desktopHeight}px`;
                windowElement.style.top = '0px';
                windowElement.style.left = '0px';
                windowElement.classList.add('maximized');
            }
        }
        
        let highestZIndex = 10;
        
        function bringWindowToFront(windowElement) {
            highestZIndex++;
            windowElement.style.zIndex = highestZIndex;
        }
        
        function toggleStartMenu(theme) {
            const startMenu = document.getElementById(`${theme}-start-menu`);
            if (startMenu) {
                document.querySelectorAll('.start-menu').forEach(menu => {
                    if (menu.id !== `${theme}-start-menu`) {
                        menu.classList.remove('active');
                    }
                });
                startMenu.classList.toggle('active');
            }
        }
        
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.start-button') && !event.target.closest('.start-menu')) {
                document.querySelectorAll('.start-menu').forEach(menu => {
                    menu.classList.remove('active');
                });
            }
        });
        
        if (isMobileDevice()) {
            document.addEventListener('touchstart', function(event) {
                if (!event.target.closest('.start-button') && !event.target.closest('.start-menu')) {
                    document.querySelectorAll('.start-menu').forEach(menu => {
                        menu.classList.remove('active');
                    });
                }
            });
        } 
        
        function openPhotoViewer(photoSrc, photoName, description, theme) {
            const viewerId = `${theme}-photo-viewer`;
            const viewer = document.getElementById(viewerId);
            if (!viewer) {
                console.warn(`Photo viewer with ID ${viewerId} not found.`);
                return;
            }
            const fullPhoto = document.getElementById(`${theme}-full-photo`);
            const photoTitle = document.getElementById(`${theme}-photo-viewer-title`);
            const photoNameElement = document.getElementById(`${theme}-photo-name`);
            const photoDescription = document.getElementById(`${theme}-photo-description`);
            const photoSize = document.getElementById(`${theme}-photo-size`);
            const photoRatio = document.getElementById(`${theme}-photo-ratio`);
            if (!fullPhoto) return;
            fullPhoto.src = photoSrc;
            photoTitle.textContent = photoName;
            photoNameElement.textContent = photoName;
            photoDescription.textContent = description;
            let sizes;
            if (theme === 'future') {
                sizes = [
                    {size: "8K Holographic", ratio: "Квантовая визуализация"},
                    {size: "16K Neural", ratio: "Нейросетевое улучшение"},
                    {size: "Quantum HD", ratio: "Квантовая графика"}
                ];
            } else {
                sizes = [
                    {size: "1920x1080", ratio: "16:9"},
                    {size: "1200x800", ratio: "3:2"},
                    {size: "1080x1350", ratio: "4:5"},
                    {size: "800x1200", ratio: "2:3"}
                ];
            }
            const randomSize = sizes[Math.floor(Math.random() * sizes.length)];
            photoSize.textContent = randomSize.size;
            photoRatio.textContent = randomSize.ratio;
            
            viewer.classList.add('active');
            bringWindowToFront(viewer);
            
            const taskbarApps = document.getElementById(`${theme}-taskbar-apps`);
            let appButton = openWindows[viewerId];
            if (!appButton) {
                appButton = document.createElement('div');
                appButton.className = 'taskbar-app';
                appButton.textContent = viewer.querySelector('.window-title').textContent;
                
                if (isMobileDevice()) {
                    appButton.ontouchstart = function(e) {
                        e.preventDefault();
                        if (viewer.classList.contains('active')) {
                            viewer.classList.remove('active');
                            appButton.classList.remove('current-app');
                        } else {
                            viewer.classList.add('active');
                            appButton.classList.add('current-app');
                            bringWindowToFront(viewer);
                        }
                    };
                } else {
                    appButton.onclick = function() {
                        if (viewer.classList.contains('active')) {
                            viewer.classList.remove('active');
                            appButton.classList.remove('current-app');
                        } else {
                            viewer.classList.add('active');
                            appButton.classList.add('current-app');
                            bringWindowToFront(viewer);
                        }
                    };
                }
                
                taskbarApps.appendChild(appButton);
                openWindows[viewerId] = appButton;
            }
            appButton.classList.add('current-app');
        }
        
        function updateDisplay(theme) {
            const display = document.getElementById(`${theme}-calc-display`);
            if (display) {
                display.textContent = calculatorState[theme].currentInput;
            }
        }
        
        function appendNumber(number, theme) {
            const state = calculatorState[theme];
            if (state.currentInput === '0' || state.resetInput) {
                state.currentInput = number;
                state.resetInput = false;
            } else {
                state.currentInput += number;
            }
            updateDisplay(theme);
        }
        
        function appendOperator(op, theme) {
            const state = calculatorState[theme];
            if (state.operation !== null && !state.resetInput) calculate(theme);
            state.previousInput = state.currentInput;
            state.operation = op;
            state.resetInput = true;
        }
        
        function calculate(theme) {
            const state = calculatorState[theme];
            let computation;
            const prev = parseFloat(state.previousInput);
            const current = parseFloat(state.currentInput);
            if (isNaN(prev) || isNaN(current)) return;
            switch (state.operation) {
                case '+':
                    computation = prev + current;
                    break;
                case '-':
                    computation = prev - current;
                    break;
                case '*':
                    computation = prev * current;
                    break;
                case '/':
                    computation = current === 0 ? 'Error' : prev / current;
                    break;
                case '%':
                    computation = prev % current;
                    break;
                default:
                    return;
            }
            state.currentInput = computation.toString();
            state.operation = null;
            state.previousInput = '';
            state.resetInput = true;
            updateDisplay(theme);
        }
        
        function clearCalculator(theme) {
            const state = calculatorState[theme];
            state.currentInput = '0';
            state.previousInput = '';
            state.operation = null;
            state.resetInput = false;
            updateDisplay(theme);
        }
        
        function backspace(theme) {
            const state = calculatorState[theme];
            if (state.currentInput === '0' && state.resetInput) {
                state.resetInput = false;
                return;
            }
            if (state.currentInput.length > 1) {
                state.currentInput = state.currentInput.slice(0, -1);
            } else {
                state.currentInput = '0';
            }
            updateDisplay(theme);
        }

        function launchGame() {
            window.location.href = 'future.html';
        }
        
        let activeWindow = null;
        let offsetX = 0, offsetY = 0;
        let isDragging = false;
        
        document.querySelectorAll('.window-header').forEach(header => {
            header.addEventListener('mousedown', startDrag);
            
            header.addEventListener('touchstart', startDragTouch, {passive: false});
            header.addEventListener('touchmove', dragTouch, {passive: false});
            header.addEventListener('touchend', stopDragTouch);
            
            const controls = header.querySelectorAll('.window-control');
            controls.forEach(control => {
                if (isMobileDevice()) {
                    control.ontouchstart = function(e) {
                        e.stopPropagation();
                        const action = control.getAttribute('onclick');
                        if (action) {
                            eval(action);
                        }
                    };
                }
            });
        });
        
        function startDrag(e) {
            if (e.target.closest('.window-controls')) return;
            
            activeWindow = this.closest('.window');
            if (!activeWindow) return;
            bringWindowToFront(activeWindow);
            offsetX = e.clientX - activeWindow.offsetLeft;
            offsetY = e.clientY - activeWindow.offsetTop;
            isDragging = true;
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
        }
        
        function startDragTouch(e) {
            if (e.target.closest('.window-controls')) return;
            
            e.preventDefault();
            activeWindow = e.target.closest('.window');
            if (!activeWindow) return;
            bringWindowToFront(activeWindow);
            const touch = e.touches[0];
            offsetX = touch.clientX - activeWindow.offsetLeft;
            offsetY = touch.clientY - activeWindow.offsetTop;
            isDragging = true;
        }
        
        function drag(e) {
            if (!activeWindow || !isDragging) return;
            e.preventDefault();
            moveWindow(e.clientX, e.clientY);
        }
        
        function dragTouch(e) {
            if (!activeWindow || !isDragging) return;
            e.preventDefault();
            const touch = e.touches[0];
            moveWindow(touch.clientX, touch.clientY);
        }
        
        function moveWindow(clientX, clientY) {
            const taskbarHeight = document.querySelector(`.${currentTheme}-theme .taskbar`).offsetHeight;
            const desktopHeight = window.innerHeight - taskbarHeight;
            let newX = clientX - offsetX;
            let newY = clientY - offsetY;
            newX = Math.max(0, Math.min(newX, window.innerWidth - activeWindow.offsetWidth));
            newY = Math.max(0, Math.min(newY, desktopHeight - activeWindow.offsetHeight));
            newY = Math.max(newY, 0);
            activeWindow.style.left = newX + 'px';
            activeWindow.style.top = newY + 'px';
            if (activeWindow.classList.contains('maximized')) {
                activeWindow.classList.remove('maximized');
                activeWindow.style.width = activeWindow.dataset.originalWidth || '';
                activeWindow.style.height = activeWindow.dataset.originalHeight || '';
            }
            activeWindow.dataset.originalTop = activeWindow.style.top;
            activeWindow.dataset.originalLeft = activeWindow.style.left;
        }
        
        function stopDrag() {
            activeWindow = null;
            isDragging = false;
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
        }
        
        function stopDragTouch(e) {
            activeWindow = null;
            isDragging = false;
        }
        
        document.addEventListener('touchmove', function(e) {
            if (isDragging) {
                e.preventDefault();
            }
        }, {passive: false});
        
        updateDisplay('modern');
        updateDisplay('xp');
        updateDisplay('future');
        
        if (isMobileDevice()) {
            document.querySelectorAll('.icon').forEach(icon => {
                const originalOnClick = icon.getAttribute('onclick');
                if (originalOnClick) {
                    icon.ontouchstart = function(e) {
                        e.preventDefault();
                        eval(originalOnClick);
                    };
                }
            });
            
            document.querySelectorAll('.start-menu-item').forEach(item => {
                const originalOnClick = item.getAttribute('onclick');
                if (originalOnClick) {
                    item.ontouchstart = function(e) {
                        e.preventDefault();
                        eval(originalOnClick);
                    };
                }
            });
            
            document.querySelectorAll('.photo-item').forEach(item => {
                const originalOnClick = item.getAttribute('onclick');
                if (originalOnClick) {
                    item.ontouchstart = function(e) {
                        e.preventDefault();
                        eval(originalOnClick);
                    };
                }
            });
            
            document.querySelectorAll('.calc-button').forEach(button => {
                const originalOnClick = button.getAttribute('onclick');
                if (originalOnClick) {
                    button.ontouchstart = function(e) {
                        e.preventDefault();
                        eval(originalOnClick);
                    };
                }
            });
            
            document.querySelectorAll('.start-button').forEach(button => {
                const originalOnClick = button.getAttribute('onclick');
                if (originalOnClick) {
                    button.ontouchstart = function(e) {
                        e.preventDefault();
                        eval(originalOnClick);
                    };
                }
            });
            
            document.querySelectorAll('#time-machine-modal button').forEach(button => {
                const originalOnClick = button.getAttribute('onclick');
                if (originalOnClick) {
                    button.ontouchstart = function(e) {
                        e.preventDefault();
                        eval(originalOnClick);
                    };
                }
            });
        }
    </script>
</body>
</html>